# WLRT ADE — Strategy Micro-Guard
## Pre-Trade Guard Layer for Micro Timeframes (1m–5m)

**Status:** Canonical  
**Version:** v1.1  
**Scope:** Action Layer (Execution Admission Only)

---

## MG0. Purpose

Strategy Micro-Guard (SMG) — это минимальный, жёсткий guard-слой,
предназначенный для **микро-таймфреймов (1m–5m)** и используемый
как **pre-trade фильтр** в торговых стратегиях, построенных на WLRT ADE.

Micro-Guard предназначен для:
- отсечения торговых действий в шумовых и невалидных микро-состояниях;
- предотвращения типовых ошибок исполнения;
- защиты стратегии от нарушений канонического порядка операторов.

Micro-Guard **не является**:
- слоем анализа,
- слоем детекции конфигураций,
- слоем статистического учёта.

---

## MG0.1. Measurement vs Action (Boundary Rule)

Strategy Micro-Guard является **слоем действий (Action)**, а не слоем
построения или фиксации конфигураций.

Micro-Guard:
- **не влияет** на детекцию Entry-4, Exit-5 и Reduced-4;
- **не изменяет** порядок операторов в измерительном контуре;
- **не участвует** в формировании статистической базы WLRT ADE.

Все запреты Micro-Guard применяются **исключительно к торговым действиям**
(pre-trade / execution admission) и не могут использоваться
для фильтрации, исключения или переинтерпретации рыночных конфигураций.

---

## MG1. Canonical Foundations

Micro-Guard опирается на следующие инварианты WLRT ADE:

- **A0-cycle:**  
  Entry-4 → Exit-5 → Reduced-4 → (becomes) → Entry-4

- **Canonical Cardinality:**  
  Entry-4 = 10  
  Exit-5 = 24  
  Reduced-4 = 10

- **Exit-First Reduction Rule:**  
  редукция допустима только после формирования Exit-5.

- **Cyclic Closure Rule:**  
  Reduced-4 всегда становится новой Entry-4.

---

## MG2. Operator Set

Micro-Guard использует алгебру операторов WLRT ADE:

- **E** — Entry  
- **X** — Exit  
- **R** — Reduction  
- **B** — Break  
- **T** — Time / Timeout (execution context)

Алгебра операторов является **строгой** и не переопределяется
Micro-Guard-слоем.

См. `WLRT_ADE_Operator_Algebra_RU.md`.

---

## MG3. Allowed Operator Orders (Action-Level)

Разрешённые порядки операторов для торговых действий:

- `E → X`
- `E → X → R`
- `R → E`
- `R → E → X`

Любые действия, нарушающие этот порядок, **запрещены**.

---

## MG4. Forbidden Operator Orders

Строго запрещены следующие порядки операторов на уровне действий:

- `E → R` (редукция без Exit)
- `X → E` (повторный вход без нового цикла)
- `R → R` (двойная редукция)
- `B → E` (вход после пробоя без нового Entry-4)
- `E → E` (повторный вход в одном цикле)

Нарушение любого из этих порядков автоматически блокирует торговое действие.

---

## MG5. Minimal Validity Conditions (Micro-TF)

Торговое действие на микро-ТФ **разрешено только если**:

- текущая Entry-4 полностью сформирована;
- Exit-5 либо сформирован, либо явно ожидается в рамках текущего цикла;
- отсутствуют противоречия с активным A0-циклом;
- отсутствует конфликт операторов.

Если хотя бы одно условие не выполнено — **действие запрещено**.

---

## MG6. Error Catching Principle

Micro-Guard предназначен для перехвата:
- ошибочных входов,
- преждевременных редукций,
- повторных входов в одном цикле,
- действий внутри шума микро-ТФ.

Практически Micro-Guard отлавливает
**до 99% типовых execution-ошибок**
на таймфреймах 1m–5m.

---

## MG7. Default Strategy Formula

Если стратегия не определяет собственный guard-контур,
используется следующая формула по умолчанию:

> **Trade is allowed  
> iff operator order is valid  
> and A0-cycle is not violated.**

Во всех остальных случаях:
> **Trade is forbidden.**

---

## MG8. Scope Limitation

Micro-Guard:
- не оптимизирует стратегию;
- не повышает её доходность;
- не заменяет старшие фильтры;
- не используется для оценки качества стратегии.

Micro-Guard — это **механизм запрета**, а не механизм улучшения.

---

## MG9. Canonical Status

Strategy Micro-Guard:
- совместим с WLRT ADE Core;
- не изменяет канонические множества;
- может быть встроен в любую стратегию WLRT ADE;
- не влияет на статистику и измерение.

---

**End of Document**
